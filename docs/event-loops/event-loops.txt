NODEJS

-> It's a Javascript Runtime that execute/runs JS outside the browser using the V8 Engine and libuv.


Event Loop

-> A mechanism which decides when and in which order callbacks are executed in NodeJS.


it allows nodejs to be 

-> single threaded 
-> handle async requests with out blocking the execution



the 2 important Things in Event Loop


1) V8 Engine
2) libuv




1) v8 Engine

-> it is developed by google and written in c++ language
-> it takes our js code and convert it to machine code 
-> execute fast

it is responsible for

-> Javascript Execution
-> Call stack
-> Heap (memory allocation)
-> Garbage collection


-> V8 only knows how to run JS, nothing else.
-> Node.js embeds V8 so it can run JavaScript outside the browser.




2) libuv



-> it was written in c language
-> it's heart for async operations


Things libuv handle


1) Event Loop

-> Runs continuously
-> Checks queues
-> Pushes callbacks to V8’s call stack


2) Async I/O

-> File system operations
-> Network sockets
-> DNS
-> Timers


3) Thread Pool

-> Offloads heavy or blocking tasks
-> Default size: 4 threads, we can increase it to 1024


4) OS Abstraction

-> Same Node.js behavior on all OSes
-> Hides OS-specific APIs




-> The event loop is basically:

“While the program is running, keep checking for completed async work and execute callbacks.”



Event Loop Phases (in order)


┌─────────────────────┐
│ Timers              │  setTimeout, setInterval
├─────────────────────┤
│ Pending callbacks   │  system callbacks
├─────────────────────┤
│ Idle / prepare      │
├─────────────────────┤
│ Poll                │  I/O events (fs, sockets)
├─────────────────────┤
│ Check               │  setImmediate
├─────────────────────┤
│ Close callbacks     │  socket.close()
└─────────────────────┘
-> Each phase has its own queue.



resources for event loop
https://medium.com/@mmoshikoo/event-loop-in-nodejs-visualized-235867255e81
https://www.youtube.com/watch?v=59C1dvLRIrI&list=PL1BztTYDF-QPdTvgsjf8HOwO4ZVl_LhxS&index=27
https://www.youtube.com/watch?v=5F4iO-W0ZbY&list=PL1BztTYDF-QPdTvgsjf8HOwO4ZVl_LhxS&index=28
https://www.youtube.com/watch?v=jxAXonX9Ao4&list=PL1BztTYDF-QPdTvgsjf8HOwO4ZVl_LhxS&index=29